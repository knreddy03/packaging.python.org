<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Packaging namespace packages" href="packaging-namespace-packages.html" /><link rel="prev" title="Dropping support for older Python versions" href="dropping-older-python-versions.html" />

    <link rel="shortcut icon" href="../_static/py.png"/><!-- Generated with Sphinx 7.2.6 and Furo 2024.08.06 -->
        <title>Packaging binary extensions - Python Packaging User Guide</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Python Packaging User Guide</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Python Packaging User Guide</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview of Python Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow.html">The Packaging Flow</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/installing-packages.html">Installing Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/managing-dependencies.html">Managing Application Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/packaging-projects.html">Packaging Python Projects</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="section-install.html">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Installation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="installing-using-pip-and-virtual-environments.html">Install packages in a virtual environment using pip and venv</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-using-virtualenv.html">Installing packages using virtualenv</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-stand-alone-command-line-tools.html">Installing stand alone command line tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-using-linux-tools.html">Installing pip/setuptools/wheel with Linux Package Managers</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-scientific-packages.html">Installing scientific packages</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="section-build-and-publish.html">Building and Publishing</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Building and Publishing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="writing-pyproject-toml.html">Writing your <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="distributing-packages-using-setuptools.html">Packaging and distributing projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="dropping-older-python-versions.html">Dropping support for older Python versions</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Packaging binary extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging-namespace-packages.html">Packaging namespace packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="creating-command-line-tools.html">Creating and packaging command-line tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="creating-and-discovering-plugins.html">Creating and discovering plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="using-testpypi.html">Using TestPyPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="making-a-pypi-friendly-readme.html">Making a PyPI-friendly README</a></li>
<li class="toctree-l3"><a class="reference internal" href="publishing-package-distribution-releases-using-github-actions-ci-cd-workflows.html">Publishing package distribution releases using GitHub Actions CI/CD workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="modernize-setup-py-project.html">How to modernize a <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> based project?</a></li>
<li class="toctree-l3"><a class="reference internal" href="licensing-examples-and-user-scenarios.html">Licensing examples and user scenarios</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-hosting.html">Hosting</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Hosting</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="index-mirrors-and-caches.html">Package index mirrors and caches</a></li>
<li class="toctree-l3"><a class="reference internal" href="hosting-your-own-index.html">Hosting your own simple repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tool-recommendations.html">Tool recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="analyzing-pypi-package-downloads.html">Analyzing PyPI package downloads</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../discussions/index.html">Discussions</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Discussions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../discussions/versioning.html">Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/deploying-python-applications.html">Deploying Python applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/pip-vs-easy-install.html">pip vs easy_install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/install-requires-vs-requirements.html">install_requires vs requirements files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/distribution-package-vs-import-package.html">Distribution package vs. import package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/package-formats.html">Package Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/src-layout-vs-flat-layout.html">src layout vs flat layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/setup-py-deprecated.html">Is <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> deprecated?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/single-source-version.html">Single-sourcing the Project Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/downstream-packaging.html">Supporting downstream packaging</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../specifications/index.html">PyPA specifications</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of PyPA specifications</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-distribution-metadata.html">Package Distribution Metadata</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Package Distribution Metadata</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/name-normalization.html">Names and normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/core-metadata.html">Core metadata specifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/version-specifiers.html">Version specifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/dependency-specifiers.html">Dependency specifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/pyproject-toml.html"><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/dependency-groups.html">Dependency Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/inline-script-metadata.html">Inline script metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/platform-compatibility-tags.html">Platform compatibility tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/well-known-project-urls.html">Well-known Project URLs in Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/glob-patterns.html"><code class="docutils literal notranslate"><span class="pre">glob</span></code> patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/license-expression.html">License Expression</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-installation-metadata.html">Package Installation Metadata</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Package Installation Metadata</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/recording-installed-packages.html">Recording installed projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/entry-points.html">Entry points specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/direct-url.html">Recording the Direct URL Origin of installed distributions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/direct-url-data-structure.html">Direct URL Data Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/virtual-environments.html">Python Virtual Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/externally-managed-environments.html">Externally Managed Environments</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-distribution-formats.html">Package Distribution File Formats</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Package Distribution File Formats</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/source-distribution-format.html">Source distribution format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/binary-distribution-format.html">Binary distribution format</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-package-indices.html">Package Index Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Package Index Interfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/pypirc.html">The <code class="file docutils literal notranslate"><span class="pre">.pypirc</span></code> file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/simple-repository-api.html">Simple repository API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/file-yanking.html">File Yanking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/index-hosted-attestations.html">Index hosted attestations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/project-status-markers.html">Project Status Markers</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-python-description-formats.html">Python Description Formats</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Python Description Formats</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../specifications/build-details/index.html"><code class="file docutils literal notranslate"><span class="pre">build-details.json</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of build-details.json</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../specifications/build-details/v1.0.html">v1.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-reproducible-environments.html">Reproducible Environments</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Reproducible Environments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/pylock-toml.html"><code class="docutils literal notranslate"><span class="pre">pylock.toml</span></code> Specification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../specifications/schemas/index.html">PyPA schemas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../key_projects.html">Project Summaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">How to Get Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute to this guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">News</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/pypa/packaging.python.org/blob/main/source/guides/packaging-binary-extensions.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/pypa/packaging.python.org/edit/main/source/guides/packaging-binary-extensions.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="packaging-binary-extensions">
<span id="binary-extensions"></span><h1>Packaging binary extensions<a class="headerlink" href="#packaging-binary-extensions" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Page Status<span class="colon">:</span></dt>
<dd class="field-odd"><p>Incomplete</p>
</dd>
<dt class="field-even">Last Reviewed<span class="colon">:</span></dt>
<dd class="field-even"><p>2013-12-08</p>
</dd>
</dl>
<p>One of the features of the CPython reference interpreter is that, in
addition to allowing the execution of Python code, it also exposes a rich
C API for use by other software. One of the most common uses of this C API
is to create importable C extensions that allow things which aren’t
always easy to achieve in pure Python code.</p>
<section id="an-overview-of-binary-extensions">
<h2>An overview of binary extensions<a class="headerlink" href="#an-overview-of-binary-extensions" title="Link to this heading">¶</a></h2>
<section id="use-cases">
<h3>Use cases<a class="headerlink" href="#use-cases" title="Link to this heading">¶</a></h3>
<p>The typical use cases for binary extensions break down into just three
conventional categories:</p>
<ul>
<li><p><strong>accelerator modules</strong>: these modules are completely self-contained, and
are created solely to run faster than the equivalent pure Python code
runs in CPython. Ideally, accelerator modules will always have a pure
Python equivalent to use as a fallback if the accelerated version isn’t
available on a given system. The CPython standard library makes extensive
use of accelerator modules.
<em>Example</em>: When importing <code class="docutils literal notranslate"><span class="pre">datetime</span></code>, Python falls back to the
<a class="reference external" href="https://github.com/python/cpython/blob/main/Lib/datetime.py">datetime.py</a>
module if the C implementation (
<a class="reference external" href="https://github.com/python/cpython/blob/main/Modules/_datetimemodule.c">_datetimemodule.c</a>)
is not available.</p></li>
<li><p><strong>wrapper modules</strong>: these modules are created to expose existing C interfaces
to Python code. They may either expose the underlying C interface directly,
or else expose a more “Pythonic” API that makes use of Python language
features to make the API easier to use. The CPython standard library makes
extensive use of wrapper modules.
<em>Example</em>: <a class="reference external" href="https://github.com/python/cpython/blob/main/Lib/functools.py">functools.py</a>
is a Python module wrapper for
<a class="reference external" href="https://github.com/python/cpython/blob/main/Modules/_functoolsmodule.c">_functoolsmodule.c</a>.</p></li>
<li><p><strong>low-level system access</strong>: these modules are created to access lower level
features of the CPython runtime, the operating system, or the underlying
hardware. Through platform specific code, extension modules may achieve
things that aren’t possible in pure Python code. A number of CPython
standard library modules are written in C in order to access interpreter
internals that aren’t exposed at the language level.
<em>Example</em>: <code class="docutils literal notranslate"><span class="pre">sys</span></code>, which comes from
<a class="reference external" href="https://github.com/python/cpython/blob/main/Python/sysmodule.c">sysmodule.c</a>.</p>
<p>One particularly notable feature of C extensions is that, when they don’t
need to call back into the interpreter runtime, they can release CPython’s
global interpreter lock around long-running operations (regardless of
whether those operations are CPU or IO bound).</p>
</li>
</ul>
<p>Not all extension modules will fit neatly into the above categories. The
extension modules included with NumPy, for example, span all three use cases
- they move inner loops to C for speed reasons, wrap external libraries
written in C, FORTRAN and other languages, and use low level system
interfaces for both CPython and the underlying operation system to support
concurrent execution of vectorised operations and to tightly control the
exact memory layout of created objects.</p>
</section>
<section id="disadvantages">
<h3>Disadvantages<a class="headerlink" href="#disadvantages" title="Link to this heading">¶</a></h3>
<p>The main disadvantage of using binary extensions is the fact that it makes
subsequent distribution of the software more difficult. One of the
advantages of using Python is that it is largely cross platform, and the
languages used to write extension modules (typically C or C++, but really
any language that can bind to the CPython C API) typically require that
custom binaries be created for different platforms.</p>
<p>This means that binary extensions:</p>
<ul class="simple">
<li><p>require that end users be able to either build them from source, or else
that someone publish pre-built binaries for common platforms</p></li>
<li><p>may not be compatible with different builds of the CPython reference
interpreter</p></li>
<li><p>often will not work correctly with alternative interpreters such as PyPy,
IronPython or Jython</p></li>
<li><p>if handcoded, make maintenance more difficult by requiring that
maintainers be familiar not only with Python, but also with the language
used to create the binary extension, as well as with the details of the
CPython C API.</p></li>
<li><p>if a pure Python fallback implementation is provided, make maintenance
more difficult by requiring that changes be implemented in two places,
and introducing additional complexity in the test suite to ensure both
versions are always executed.</p></li>
</ul>
<p>Another disadvantage of relying on binary extensions is that alternative
import mechanisms (such as the ability to import modules directly from
zipfiles) often won’t work for extension modules (as the dynamic loading
mechanisms on most platforms can only load libraries from disk).</p>
</section>
<section id="alternatives-to-handcoded-accelerator-modules">
<h3>Alternatives to handcoded accelerator modules<a class="headerlink" href="#alternatives-to-handcoded-accelerator-modules" title="Link to this heading">¶</a></h3>
<p>When extension modules are just being used to make code run faster (after
profiling has identified the code where the speed increase is worth
additional maintenance effort), a number of other alternatives should
also be considered:</p>
<ul class="simple">
<li><p>look for existing optimised alternatives. The CPython standard library
includes a number of optimised data structures and algorithms (especially
in the builtins and the <code class="docutils literal notranslate"><span class="pre">collections</span></code> and <code class="docutils literal notranslate"><span class="pre">itertools</span></code> modules). The
Python Package Index also offers additional alternatives. Sometimes, the
appropriate choice of standard library or third party module can avoid the
need to create your own accelerator module.</p></li>
<li><p>for long running applications, the JIT compiled <a class="reference external" href="https://www.pypy.org/">PyPy interpreter</a> may offer a suitable alternative to the standard
CPython runtime. The main barrier to adopting PyPy is typically reliance
on other binary extension modules - while PyPy does emulate the CPython
C API, modules that rely on that cause problems for the PyPy JIT, and the
emulation layer can often expose latent defects in extension modules that
CPython currently tolerates (frequently around reference counting errors -
an object having one live reference instead of two often won’t break
anything, but no references instead of one is a major problem).</p></li>
<li><p><a class="reference external" href="https://cython.org/">Cython</a> is a mature static compiler that can
compile most Python code to C extension modules. The initial compilation
provides some speed increases (by bypassing the CPython interpreter layer),
and Cython’s optional static typing features can offer additional
opportunities for speed increases. Using Cython still carries the
<a class="reference internal" href="#disadvantages">disadvantages</a> associated with using binary extensions,
but has the benefit of having a reduced barrier to entry for Python
programmers (relative to other languages like C or C++).</p></li>
<li><p><a class="reference external" href="http://numba.pydata.org/">Numba</a> is a newer tool, created by members
of the scientific Python community, that aims to leverage LLVM to allow
selective compilation of pieces of a Python application to native
machine code at runtime. It requires that LLVM be available on the
system where the code is running, but can provide significant speed
increases, especially for operations that are amenable to vectorisation.</p></li>
</ul>
</section>
<section id="alternatives-to-handcoded-wrapper-modules">
<h3>Alternatives to handcoded wrapper modules<a class="headerlink" href="#alternatives-to-handcoded-wrapper-modules" title="Link to this heading">¶</a></h3>
<p>The C ABI (Application Binary Interface) is a common standard for sharing
functionality between multiple applications. One of the strengths of the
CPython C API (Application Programming Interface) is allowing Python users
to tap into that functionality. However, wrapping modules by hand is quite
tedious, so a number of other alternative approaches should be considered.</p>
<p>The approaches described below don’t simplify the distribution case at all,
but they <em>can</em> significantly reduce the maintenance burden of keeping
wrapper modules up to date.</p>
<ul>
<li><p>In addition to being useful for the creation of accelerator modules,
<a class="reference external" href="https://cython.org/">Cython</a> is also widely used for creating wrapper
modules for C or C++ APIs. It involves wrapping the interfaces by
hand, which gives a wide range of freedom in designing and optimising
the wrapper code, but may not be a good choice for wrapping very
large APIs quickly. See the
<a class="reference external" href="https://github.com/cython/cython/wiki/AutoPxd">list of third-party tools</a>
for automatic wrapping with Cython. It also supports performance-oriented
Python implementations that provide a CPython-like C-API, such as PyPy
and Pyston.</p></li>
<li><p><a class="reference external" href="https://pybind11.readthedocs.io/en/stable/index.html" title="(in pybind11 v3.0.2)"><span class="xref std std-doc">pybind11</span></a> is a pure C++11 library
that provides a clean C++ interface to the CPython (and PyPy) C API. It
does not require a pre-processing step; it is written entirely in
templated C++. Helpers are included for Setuptools or CMake builds. It
was based on <a class="reference external" href="https://www.boost.org/doc/libs/1_76_0/libs/python/doc/html/index.html">Boost.Python</a>,
but doesn’t require the Boost libraries or BJam.</p></li>
<li><p><a class="reference external" href="https://cffi.readthedocs.io/en/latest/index.html" title="(in CFFI v2.0)"><span class="xref std std-doc">cffi</span></a> is a project created by some of the PyPy
developers to make it straightforward for developers that already know
both Python and C to expose their C modules to Python applications. It
also makes it relatively straightforward to wrap a C module based on its
header files, even if you don’t know C yourself.</p>
<p>One of the key advantages of <code class="docutils literal notranslate"><span class="pre">cffi</span></code> is that it is compatible with the
PyPy JIT, allowing CFFI wrapper modules to participate fully in PyPy’s
tracing JIT optimisations.</p>
</li>
<li><p><a class="reference external" href="http://www.swig.org/">SWIG</a> is a wrapper interface generator that
allows a variety of programming languages, including Python, to interface
with C and C++ code.</p></li>
<li><p>The standard library’s <code class="docutils literal notranslate"><span class="pre">ctypes</span></code> module, while useful for getting access
to C level interfaces when header information isn’t available, suffers
from the fact that it operates solely at the C ABI level, and thus has
no automatic consistency checking between the interface actually being
exported by the library and the one declared in the Python code. By
contrast, the above alternatives are all able to operate at the C <em>API</em>
level, using C header files to ensure consistency between the interface
exported by the library being wrapped and the one expected by the Python
wrapper module. While <code class="docutils literal notranslate"><span class="pre">cffi</span></code> <em>can</em> operate directly at the C ABI level,
it suffers from the same interface inconsistency problems as <code class="docutils literal notranslate"><span class="pre">ctypes</span></code>
when it is used that way.</p></li>
</ul>
</section>
<section id="alternatives-for-low-level-system-access">
<h3>Alternatives for low level system access<a class="headerlink" href="#alternatives-for-low-level-system-access" title="Link to this heading">¶</a></h3>
<p>For applications that need low level system access (regardless of the
reason), a binary extension module often <em>is</em> the best way to go about it.
This is particularly true for low level access to the CPython runtime
itself, since some operations (like releasing the Global Interpreter Lock)
are simply invalid when the interpreter is running code, even if a module
like <code class="docutils literal notranslate"><span class="pre">ctypes</span></code> or <code class="docutils literal notranslate"><span class="pre">cffi</span></code> is used to obtain access to the relevant C
API interfaces.</p>
<p>For cases where the extension module is manipulating the underlying
operating system or hardware (rather than the CPython runtime), it may
sometimes be better to just write an ordinary C library (or a library in
another systems programming language like C++ or Rust that can export a C
compatible ABI), and then use one of the wrapping techniques described
above to make the interface available as an importable Python module.</p>
</section>
</section>
<section id="implementing-binary-extensions">
<h2>Implementing binary extensions<a class="headerlink" href="#implementing-binary-extensions" title="Link to this heading">¶</a></h2>
<p>The CPython <a class="reference external" href="https://docs.python.org/3/extending/index.html" title="(in Python v3.14)"><span class="xref std std-doc">Extending and Embedding</span></a>
guide includes an introduction to writing a
<a class="reference external" href="https://docs.python.org/3/extending/extending.html" title="(in Python v3.14)"><span class="xref std std-doc">custom extension module in C</span></a>.</p>
<p>FIXME: Elaborate that all this is one of the reasons why you probably
<em>don’t</em> want to handcode your extension modules :)</p>
<section id="extension-module-lifecycle">
<h3>Extension module lifecycle<a class="headerlink" href="#extension-module-lifecycle" title="Link to this heading">¶</a></h3>
<p>FIXME: This section needs to be fleshed out.</p>
</section>
<section id="implications-of-shared-static-state-and-subinterpreters">
<h3>Implications of shared static state and subinterpreters<a class="headerlink" href="#implications-of-shared-static-state-and-subinterpreters" title="Link to this heading">¶</a></h3>
<p>FIXME: This section needs to be fleshed out.</p>
</section>
<section id="implications-of-the-gil">
<h3>Implications of the GIL<a class="headerlink" href="#implications-of-the-gil" title="Link to this heading">¶</a></h3>
<p>FIXME: This section needs to be fleshed out.</p>
</section>
<section id="memory-allocation-apis">
<h3>Memory allocation APIs<a class="headerlink" href="#memory-allocation-apis" title="Link to this heading">¶</a></h3>
<p>FIXME: This section needs to be fleshed out.</p>
</section>
<section id="abi-compatibility">
<span id="cpython-stable-abi"></span><h3>ABI Compatibility<a class="headerlink" href="#abi-compatibility" title="Link to this heading">¶</a></h3>
<p>The CPython C API does not guarantee ABI stability between minor releases
(3.2, 3.3, 3.4, etc.). This means that, typically, if you build an
extension module against one version of Python, it is only guaranteed to
work with the same minor version of Python and not with any other minor
versions.</p>
<p>Python 3.2 introduced the Limited API, with is a well-defined subset of
Python’s C API. The symbols needed for the Limited API form the
“Stable ABI” which is guaranteed to be compatible across all Python 3.x
versions. Wheels containing extensions built against the stable ABI use
the <code class="docutils literal notranslate"><span class="pre">abi3</span></code> ABI tag, to reflect that they’re compatible with all Python
3.x versions.</p>
<p>CPython’s <a class="reference external" href="https://docs.python.org/3/c-api/stable.html" title="(in Python v3.14)"><span class="xref std std-doc">C API stability</span></a> page provides
detailed information about the API / ABI stability guarantees, how to use
the Limited API and the exact contents of the “Limited API”.</p>
</section>
</section>
<section id="building-binary-extensions">
<h2>Building binary extensions<a class="headerlink" href="#building-binary-extensions" title="Link to this heading">¶</a></h2>
<p>FIXME: Cover the build-backends available for building extensions.</p>
<section id="building-extensions-for-multiple-platforms">
<h3>Building extensions for multiple platforms<a class="headerlink" href="#building-extensions-for-multiple-platforms" title="Link to this heading">¶</a></h3>
<p>If you plan to distribute your extension, you should provide
<a class="reference internal" href="../glossary.html#term-Wheel"><span class="xref std std-term">wheels</span></a> for all the platforms you intend to support. These
are usually built on continuous integration (CI) systems. There are tools
to help you build highly redistributable binaries from CI; these include
<a class="reference internal" href="../key_projects.html#cibuildwheel"><span class="std std-ref">cibuildwheel</span></a> and <a class="reference internal" href="../key_projects.html#multibuild"><span class="std std-ref">multibuild</span></a>.</p>
<p>For most extensions, you will need to build wheels for all the platforms
you intend to support. This means that the number of wheels you need to
build is the product of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">count</span><span class="p">(</span><span class="n">Python</span> <span class="n">minor</span> <span class="n">versions</span><span class="p">)</span> <span class="o">*</span> <span class="n">count</span><span class="p">(</span><span class="n">OS</span><span class="p">)</span> <span class="o">*</span> <span class="n">count</span><span class="p">(</span><span class="n">architectures</span><span class="p">)</span>
</pre></div>
</div>
<p>Using CPython’s <a class="reference internal" href="#cpython-stable-abi"><span class="std std-ref">Stable ABI</span></a> can help significantly
reduce the number of wheels you need to provide, since a single wheel on a
platform can be used with all Python minor versions; eliminating one dimension
of the matrix. It also removes the need to generate new wheels for each new
minor version of Python.</p>
</section>
<section id="binary-extensions-for-windows">
<h3>Binary extensions for Windows<a class="headerlink" href="#binary-extensions-for-windows" title="Link to this heading">¶</a></h3>
<p>Before it is possible to build a binary extension, it is necessary to ensure
that you have a suitable compiler available. On Windows, Visual C is used to
build the official CPython interpreter, and should be used to build compatible
binary extensions.  To set up a build environment for binary extensions, install
<a class="reference external" href="https://visualstudio.microsoft.com/downloads/">Visual Studio Community Edition</a>
- any recent version is fine.</p>
<p>One caveat: if you use Visual Studio 2019 or later, your extension will depend
on an “extra” file, <code class="docutils literal notranslate"><span class="pre">VCRUNTIME140_1.dll</span></code>, in addition to the
<code class="docutils literal notranslate"><span class="pre">VCRUNTIME140.dll</span></code> that all previous versions back to 2015 depend on. This
will add an extra requirement to using your extension on versions of CPython
that do not include this extra file. To avoid this, you can add the
compile-time argument <code class="docutils literal notranslate"><span class="pre">/d2FH4-</span></code>. Recent versions of Python may include this
file.</p>
<p>Building for Python prior to 3.5 is discouraged, because older versions of
Visual Studio are no longer available from Microsoft. If you do need to build
for older versions, you can set <code class="docutils literal notranslate"><span class="pre">DISTUTILS_USE_SDK=1</span></code> and <code class="docutils literal notranslate"><span class="pre">MSSdk=1</span></code> to
force a the currently activated version of MSVC to be found, and you should
exercise care when designing your extension not to malloc/free memory across
different libraries, avoid relying on changed data structures, and so on. Tools
for generating extension modules usually avoid these things for you.</p>
</section>
<section id="binary-extensions-for-linux">
<h3>Binary extensions for Linux<a class="headerlink" href="#binary-extensions-for-linux" title="Link to this heading">¶</a></h3>
<p>Linux binaries must use a sufficiently old glibc to be compatible with older
distributions. The <a class="reference external" href="https://github.com/pypa/manylinux">manylinux</a> Docker
images provide a build environment with a glibc old enough to support most
current Linux distributions on common architectures.</p>
</section>
<section id="binary-extensions-for-macos">
<h3>Binary extensions for macOS<a class="headerlink" href="#binary-extensions-for-macos" title="Link to this heading">¶</a></h3>
<p>Binary compatibility on macOS is determined by the target minimum deployment
system, e.g. <em>10.9</em>, which is often specified with the
<code class="docutils literal notranslate"><span class="pre">MACOSX_DEPLOYMENT_TARGET</span></code> environmental variable when building binaries on
macOS. When building with setuptools / distutils, the deployment target is
specified with the flag <code class="docutils literal notranslate"><span class="pre">--plat-name</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">macosx-10.9-x86_64</span></code>. For
common deployment targets for macOS Python distributions, see the <a class="reference external" href="https://github.com/MacPython/wiki/wiki/Spinning-wheels">MacPython
Spinning Wheels wiki</a>.</p>
</section>
</section>
<section id="publishing-binary-extensions">
<h2>Publishing binary extensions<a class="headerlink" href="#publishing-binary-extensions" title="Link to this heading">¶</a></h2>
<p>Publishing binary extensions through PyPI uses the same upload mechanisms as
publishing pure Python packages. You build a wheel file for your extension
using the build-backend and upload it to PyPI using
<a class="reference external" href="https://twine.readthedocs.io/en/stable/index.html" title="(in twine v6.2)"><span class="xref std std-doc">twine</span></a>.</p>
<section id="avoid-binary-only-releases">
<h3>Avoid binary-only releases<a class="headerlink" href="#avoid-binary-only-releases" title="Link to this heading">¶</a></h3>
<p>It is strongly recommended that you publish your binary extensions as
well as the source code that was used to build them. This allows users to
build the extension from source if they need to. Notably, this is required
for certain Linux distributions that build from source within their
own build systems for the distro package repositories.</p>
</section>
<section id="weak-linking">
<h3>Weak linking<a class="headerlink" href="#weak-linking" title="Link to this heading">¶</a></h3>
<p>FIXME: This section needs to be fleshed out.</p>
</section>
</section>
<section id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Link to this heading">¶</a></h2>
<p>Cross-platform development and distribution of extension modules is a complex topic,
so this guide focuses primarily on providing pointers to various tools that automate
dealing with the underlying technical challenges. The additional resources in this
section are instead intended for developers looking to understand more about the
underlying binary interfaces that those systems rely on at runtime.</p>
<section id="cross-platform-wheel-generation-with-scikit-build">
<h3>Cross-platform wheel generation with scikit-build<a class="headerlink" href="#cross-platform-wheel-generation-with-scikit-build" title="Link to this heading">¶</a></h3>
<p>The <a class="reference external" href="https://scikit-build.readthedocs.io/en/latest/">scikit-build</a> package
helps abstract cross-platform build operations and provides additional capabilities
when creating binary extension packages. Additional documentation is also available on
the <a class="reference external" href="https://scikit-build.readthedocs.io/en/latest/generators.html">C runtime, compiler, and build system generator</a> for Python
binary extension modules.</p>
</section>
<section id="introduction-to-c-c-extension-modules">
<h3>Introduction to C/C++ extension modules<a class="headerlink" href="#introduction-to-c-c-extension-modules" title="Link to this heading">¶</a></h3>
<p>For a more in depth explanation of how extension modules are used by CPython on
a Debian system, see the following articles:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://thomasnyberg.com/what_are_extension_modules.html">What are (c)python extension modules?</a></p></li>
<li><p><a class="reference external" href="https://thomasnyberg.com/releasing_the_gil.html">Releasing the gil</a></p></li>
<li><p><a class="reference external" href="https://thomasnyberg.com/cpp_extension_modules.html">Writing cpython extension modules using C++</a></p></li>
</ul>
</section>
<section id="additional-considerations-for-binary-wheels">
<h3>Additional considerations for binary wheels<a class="headerlink" href="#additional-considerations-for-binary-wheels" title="Link to this heading">¶</a></h3>
<p>The <a class="reference external" href="https://pypackaging-native.github.io/">pypackaging-native</a> website has
additional coverage of packaging Python packages with native code. It aims to
provide an overview of the most important packaging issues for such projects,
with in-depth explanations and references.</p>
<p>Examples of topics covered are non-Python compiled dependencies (“native
dependencies”), the importance of the ABI (Application Binary Interface) of
native code, dependency on SIMD code and cross compilation.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="packaging-namespace-packages.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Packaging namespace packages</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="dropping-older-python-versions.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Dropping support for older Python versions</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2013–2020, PyPA
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Feb 21, 2026</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Packaging binary extensions</a><ul>
<li><a class="reference internal" href="#an-overview-of-binary-extensions">An overview of binary extensions</a><ul>
<li><a class="reference internal" href="#use-cases">Use cases</a></li>
<li><a class="reference internal" href="#disadvantages">Disadvantages</a></li>
<li><a class="reference internal" href="#alternatives-to-handcoded-accelerator-modules">Alternatives to handcoded accelerator modules</a></li>
<li><a class="reference internal" href="#alternatives-to-handcoded-wrapper-modules">Alternatives to handcoded wrapper modules</a></li>
<li><a class="reference internal" href="#alternatives-for-low-level-system-access">Alternatives for low level system access</a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementing-binary-extensions">Implementing binary extensions</a><ul>
<li><a class="reference internal" href="#extension-module-lifecycle">Extension module lifecycle</a></li>
<li><a class="reference internal" href="#implications-of-shared-static-state-and-subinterpreters">Implications of shared static state and subinterpreters</a></li>
<li><a class="reference internal" href="#implications-of-the-gil">Implications of the GIL</a></li>
<li><a class="reference internal" href="#memory-allocation-apis">Memory allocation APIs</a></li>
<li><a class="reference internal" href="#abi-compatibility">ABI Compatibility</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-binary-extensions">Building binary extensions</a><ul>
<li><a class="reference internal" href="#building-extensions-for-multiple-platforms">Building extensions for multiple platforms</a></li>
<li><a class="reference internal" href="#binary-extensions-for-windows">Binary extensions for Windows</a></li>
<li><a class="reference internal" href="#binary-extensions-for-linux">Binary extensions for Linux</a></li>
<li><a class="reference internal" href="#binary-extensions-for-macos">Binary extensions for macOS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#publishing-binary-extensions">Publishing binary extensions</a><ul>
<li><a class="reference internal" href="#avoid-binary-only-releases">Avoid binary-only releases</a></li>
<li><a class="reference internal" href="#weak-linking">Weak linking</a></li>
</ul>
</li>
<li><a class="reference internal" href="#additional-resources">Additional resources</a><ul>
<li><a class="reference internal" href="#cross-platform-wheel-generation-with-scikit-build">Cross-platform wheel generation with scikit-build</a></li>
<li><a class="reference internal" href="#introduction-to-c-c-extension-modules">Introduction to C/C++ extension modules</a></li>
<li><a class="reference internal" href="#additional-considerations-for-binary-wheels">Additional considerations for binary wheels</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=cb5fb026"></script>
    </body>
</html>