<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />

    <link rel="shortcut icon" href="../_static/py.png"/><!-- Generated with Sphinx 7.2.6 and Furo 2024.08.06 -->
        <title>Supporting Windows using Appveyor - Python Packaging User Guide</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />




<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;

  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;

    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;

      }
    }
  }
</style></head>
  <body>

    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Python Packaging User Guide</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">

      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">


  <span class="sidebar-brand-text">Python Packaging User Guide</span>

</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview of Python Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow.html">The Packaging Flow</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/installing-packages.html">Installing Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/managing-dependencies.html">Managing Application Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/packaging-projects.html">Packaging Python Projects</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="index.html">Guides</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-install.html">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Installation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="installing-using-pip-and-virtual-environments.html">Install packages in a virtual environment using pip and venv</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-using-virtualenv.html">Installing packages using virtualenv</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-stand-alone-command-line-tools.html">Installing stand alone command line tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-using-linux-tools.html">Installing pip/setuptools/wheel with Linux Package Managers</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-scientific-packages.html">Installing scientific packages</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-build-and-publish.html">Building and Publishing</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Building and Publishing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="writing-pyproject-toml.html">Writing your <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="distributing-packages-using-setuptools.html">Packaging and distributing projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="dropping-older-python-versions.html">Dropping support for older Python versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging-binary-extensions.html">Packaging binary extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging-namespace-packages.html">Packaging namespace packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="creating-command-line-tools.html">Creating and packaging command-line tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="creating-and-discovering-plugins.html">Creating and discovering plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="using-testpypi.html">Using TestPyPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="making-a-pypi-friendly-readme.html">Making a PyPI-friendly README</a></li>
<li class="toctree-l3"><a class="reference internal" href="publishing-package-distribution-releases-using-github-actions-ci-cd-workflows.html">Publishing package distribution releases using GitHub Actions CI/CD workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="modernize-setup-py-project.html">How to modernize a <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> based project?</a></li>
<li class="toctree-l3"><a class="reference internal" href="licensing-examples-and-user-scenarios.html">Licensing examples and user scenarios</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-hosting.html">Hosting</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Hosting</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="index-mirrors-and-caches.html">Package index mirrors and caches</a></li>
<li class="toctree-l3"><a class="reference internal" href="hosting-your-own-index.html">Hosting your own simple repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tool-recommendations.html">Tool recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="analyzing-pypi-package-downloads.html">Analyzing PyPI package downloads</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../discussions/index.html">Discussions</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Discussions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../discussions/versioning.html">Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/deploying-python-applications.html">Deploying Python applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/pip-vs-easy-install.html">pip vs easy_install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/install-requires-vs-requirements.html">install_requires vs requirements files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/distribution-package-vs-import-package.html">Distribution package vs. import package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/package-formats.html">Package Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/src-layout-vs-flat-layout.html">src layout vs flat layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/setup-py-deprecated.html">Is <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> deprecated?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/single-source-version.html">Single-sourcing the Project Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/downstream-packaging.html">Supporting downstream packaging</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../specifications/index.html">PyPA specifications</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of PyPA specifications</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-distribution-metadata.html">Package Distribution Metadata</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Package Distribution Metadata</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/name-normalization.html">Names and normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/core-metadata.html">Core metadata specifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/version-specifiers.html">Version specifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/dependency-specifiers.html">Dependency specifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/pyproject-toml.html"><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/dependency-groups.html">Dependency Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/inline-script-metadata.html">Inline script metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/platform-compatibility-tags.html">Platform compatibility tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/well-known-project-urls.html">Well-known Project URLs in Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/glob-patterns.html"><code class="docutils literal notranslate"><span class="pre">glob</span></code> patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/license-expression.html">License Expression</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-installation-metadata.html">Package Installation Metadata</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Package Installation Metadata</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/recording-installed-packages.html">Recording installed projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/entry-points.html">Entry points specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/direct-url.html">Recording the Direct URL Origin of installed distributions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/direct-url-data-structure.html">Direct URL Data Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/virtual-environments.html">Python Virtual Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/externally-managed-environments.html">Externally Managed Environments</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-distribution-formats.html">Package Distribution File Formats</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Package Distribution File Formats</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/source-distribution-format.html">Source distribution format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/binary-distribution-format.html">Binary distribution format</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-package-indices.html">Package Index Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Package Index Interfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/pypirc.html">The <code class="file docutils literal notranslate"><span class="pre">.pypirc</span></code> file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/simple-repository-api.html">Simple repository API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/file-yanking.html">File Yanking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/index-hosted-attestations.html">Index hosted attestations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/project-status-markers.html">Project Status Markers</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-python-description-formats.html">Python Description Formats</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Python Description Formats</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../specifications/build-details/index.html"><code class="file docutils literal notranslate"><span class="pre">build-details.json</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of build-details.json</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../specifications/build-details/v1.0.html">v1.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-reproducible-environments.html">Reproducible Environments</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Reproducible Environments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/pylock-toml.html"><code class="docutils literal notranslate"><span class="pre">pylock.toml</span></code> Specification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../specifications/schemas/index.html">PyPA schemas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../key_projects.html">Project Summaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">How to Get Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute to this guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">News</a></li>
</ul>

</div>
</div>

      </div>

    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/pypa/packaging.python.org/blob/main/source/guides/supporting-windows-using-appveyor.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/pypa/packaging.python.org/edit/main/source/guides/supporting-windows-using-appveyor.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="supporting-windows-using-appveyor">
<h1>Supporting Windows using Appveyor<a class="headerlink" href="#supporting-windows-using-appveyor" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Page Status<span class="colon">:</span></dt>
<dd class="field-odd"><p>Obsolete</p>
</dd>
<dt class="field-even">Last Reviewed<span class="colon">:</span></dt>
<dd class="field-even"><p>2015-12-03</p>
</dd>
</dl>
<p>This section covers how to use the free <a class="reference external" href="https://www.appveyor.com/">Appveyor</a> continuous integration
service to provide Windows support for your project. This includes testing
the code on Windows, and building Windows-targeted binaries for projects
that use C extensions.</p>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Link to this heading">¶</a></h2>
<p>Many projects are developed on Unix by default, and providing Windows support
can be a challenge, because setting up a suitable Windows test environment is
non-trivial, and may require buying software licenses.</p>
<p>The Appveyor service is a continuous integration service, much like the
better-known <a class="reference external" href="https://travis-ci.com/">Travis</a> service that is commonly used for testing by projects
hosted on <a class="reference external" href="https://github.com">GitHub</a>. However, unlike Travis, the build workers on Appveyor are
Windows hosts and have the necessary compilers installed to build Python
extensions.</p>
<p>Windows users typically do not have access to a C compiler, and therefore are
reliant on projects that use C extensions distributing binary wheels on PyPI in
order for the distribution to be installable via <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&lt;dist&gt;</span></code>. By
using Appveyor as a build service (even if not using it for testing) it is
possible for projects without a dedicated Windows environment to provide
Windows-targeted binaries.</p>
</section>
<section id="setting-up">
<h2>Setting up<a class="headerlink" href="#setting-up" title="Link to this heading">¶</a></h2>
<p>In order to use Appveyor to build Windows wheels for your project, you must
have an account on the service. Instructions on setting up an account are given
in <a class="reference external" href="https://www.appveyor.com/docs/">the Appveyor documentation</a>. The free tier
of account is perfectly adequate for open source projects.</p>
<p>Appveyor provides integration with <a class="reference external" href="https://github.com">GitHub</a> and <a class="reference external" href="https://bitbucket.org/">Bitbucket</a>, so as long as
your project is hosted on one of those two services, setting up Appveyor
integration is straightforward.</p>
<p>Once you have set up your Appveyor account and added your project, Appveyor will
automatically build your project each time a commit occurs. This behaviour will
be familiar to users of Travis.</p>
</section>
<section id="adding-appveyor-support-to-your-project">
<h2>Adding Appveyor support to your project<a class="headerlink" href="#adding-appveyor-support-to-your-project" title="Link to this heading">¶</a></h2>
<p>In order to define how Appveyor should build your project, you need to add an
<code class="file docutils literal notranslate"><span class="pre">appveyor.yml</span></code> file to your project. The full details of what can be
included in the file are covered in the Appveyor documentation. This guide will
provide the details necessary to set up wheel builds.</p>
<p>Appveyor includes by default all of the compiler toolchains needed to build
extensions for Python. For Python 2.7, 3.5+ and 32-bit versions of 3.3 and 3.4,
the tools work out of the box. But for 64-bit versions of Python 3.3 and 3.4,
there is a small amount of additional configuration needed to let distutils
know where to find the 64-bit compilers. (From 3.5 onwards, the version of
Visual Studio used includes 64-bit compilers with no additional setup).</p>
<section id="appveyor-yml">
<h3>appveyor.yml<a class="headerlink" href="#appveyor-yml" title="Link to this heading">¶</a></h3>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="nt">environment</span><span class="p">:</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="w">  </span><span class="nt">matrix</span><span class="p">:</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="w">    </span><span class="c1"># For Python versions available on Appveyor, see</span>
<span class="linenos"> 6</span><span class="w">    </span><span class="c1"># https://www.appveyor.com/docs/windows-images-software/#python</span>
<span class="linenos"> 7</span><span class="w">    </span><span class="c1"># The list here is complete (excluding Python 2.6, which</span>
<span class="linenos"> 8</span><span class="w">    </span><span class="c1"># isn&#39;t covered by this document) at the time of writing.</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C:\\Python27&quot;</span>
<span class="linenos">11</span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C:\\Python33&quot;</span>
<span class="linenos">12</span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C:\\Python34&quot;</span>
<span class="linenos">13</span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C:\\Python35&quot;</span>
<span class="linenos">14</span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C:\\Python27-x64&quot;</span>
<span class="linenos">15</span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C:\\Python33-x64&quot;</span>
<span class="linenos">16</span><span class="w">      </span><span class="nt">DISTUTILS_USE_SDK</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1&quot;</span>
<span class="linenos">17</span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C:\\Python34-x64&quot;</span>
<span class="linenos">18</span><span class="w">      </span><span class="nt">DISTUTILS_USE_SDK</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1&quot;</span>
<span class="linenos">19</span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C:\\Python35-x64&quot;</span>
<span class="linenos">20</span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C:\\Python36-x64&quot;</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="nt">install</span><span class="p">:</span>
<span class="linenos">23</span><span class="w">  </span><span class="c1"># We need wheel installed to build wheels</span>
<span class="linenos">24</span><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;%PYTHON%\\python.exe</span><span class="nv"> </span><span class="s">-m</span><span class="nv"> </span><span class="s">pip</span><span class="nv"> </span><span class="s">install</span><span class="nv"> </span><span class="s">wheel&quot;</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="nt">build</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">off</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="nt">test_script</span><span class="p">:</span>
<span class="linenos">29</span><span class="w">  </span><span class="c1"># Put your test command here.</span>
<span class="linenos">30</span><span class="w">  </span><span class="c1"># If you don&#39;t need to build C extensions on 64-bit Python 3.3 or 3.4,</span>
<span class="linenos">31</span><span class="w">  </span><span class="c1"># you can remove &quot;build.cmd&quot; from the front of the command, as it&#39;s</span>
<span class="linenos">32</span><span class="w">  </span><span class="c1"># only needed to support those cases.</span>
<span class="linenos">33</span><span class="w">  </span><span class="c1"># Note that you must use the environment variable %PYTHON% to refer to</span>
<span class="linenos">34</span><span class="w">  </span><span class="c1"># the interpreter you&#39;re using - Appveyor does not do anything special</span>
<span class="linenos">35</span><span class="w">  </span><span class="c1"># to put the Python version you want to use on PATH.</span>
<span class="linenos">36</span><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;build.cmd</span><span class="nv"> </span><span class="s">%PYTHON%\\python.exe</span><span class="nv"> </span><span class="s">setup.py</span><span class="nv"> </span><span class="s">test&quot;</span>
<span class="linenos">37</span>
<span class="linenos">38</span><span class="nt">after_test</span><span class="p">:</span>
<span class="linenos">39</span><span class="w">  </span><span class="c1"># This step builds your wheels.</span>
<span class="linenos">40</span><span class="w">  </span><span class="c1"># Again, you only need build.cmd if you&#39;re building C extensions for</span>
<span class="linenos">41</span><span class="w">  </span><span class="c1"># 64-bit Python 3.3/3.4. And you need to use %PYTHON% to get the correct</span>
<span class="linenos">42</span><span class="w">  </span><span class="c1"># interpreter</span>
<span class="linenos">43</span><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;build.cmd</span><span class="nv"> </span><span class="s">%PYTHON%\\python.exe</span><span class="nv"> </span><span class="s">setup.py</span><span class="nv"> </span><span class="s">bdist_wheel&quot;</span>
<span class="linenos">44</span>
<span class="linenos">45</span><span class="nt">artifacts</span><span class="p">:</span>
<span class="linenos">46</span><span class="w">  </span><span class="c1"># bdist_wheel puts your built wheel in the dist directory</span>
<span class="linenos">47</span><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dist\*</span>
<span class="linenos">48</span>
<span class="linenos">49</span><span class="c1">#on_success:</span>
<span class="linenos">50</span><span class="c1">#  You can use this step to upload your artifacts to a public website.</span>
<span class="linenos">51</span><span class="c1">#  See Appveyor&#39;s documentation for more details. Or you can simply</span>
<span class="linenos">52</span><span class="c1">#  access your wheels from the Appveyor &quot;artifacts&quot; tab for your build.</span>
</pre></div>
</div>
<p>This file can be downloaded from <a class="reference external" href="https://raw.githubusercontent.com/pypa/python-packaging-user-guide/master/source/guides/appveyor-sample/appveyor.yml">here</a>.</p>
<p>The <code class="file docutils literal notranslate"><span class="pre">appveyor.yml</span></code> file must be located in the root directory of your
project. It is in <code class="docutils literal notranslate"><span class="pre">YAML</span></code> format, and consists of a number of sections.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">environment</span></code> section is the key to defining the Python versions for
which your wheels will be created. Appveyor comes with Python 2.6, 2.7, 3.3,
3.4 and 3.5 installed, in both 32-bit and 64-bit builds. The example file
builds for all of these environments except Python 2.6. Installing for Python
2.6 is more complex, as it does not come with pip included. We don’t support
2.6 in this document (as Windows users still using Python 2 are generally able
to move to Python 2.7 without too much difficulty).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">install</span></code> section uses pip to install any additional software that the
project may require. The only requirement for building wheels is the <code class="docutils literal notranslate"><span class="pre">wheel</span></code>
project, but projects may wish to customise this code in certain circumstances
(for example, to install additional build packages such as <code class="docutils literal notranslate"><span class="pre">Cython</span></code>, or test
tools such as <code class="docutils literal notranslate"><span class="pre">tox</span></code>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">build</span></code> section simply switches off builds - there is no build step needed
for Python, unlike languages like <code class="docutils literal notranslate"><span class="pre">C#</span></code>.</p>
<p>The main sections that will need to be tailored to your project are <code class="docutils literal notranslate"><span class="pre">test_script</span></code>
and <code class="docutils literal notranslate"><span class="pre">after_test</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">test_script</span></code> section is where you will run your project’s tests. The
supplied file runs your test suite using <code class="docutils literal notranslate"><span class="pre">setup.py</span> <span class="pre">test</span></code>. If you are only
interested in building wheels, and not in running your tests on Windows, you
can replace this section with a dummy command such as <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">Skipped</span> <span class="pre">Tests</span></code>.
You may wish to use another test tool, such as <code class="docutils literal notranslate"><span class="pre">nose</span></code> or <code class="file docutils literal notranslate"><span class="pre">py.test</span></code>.  Or
you may wish to use a test driver like <code class="docutils literal notranslate"><span class="pre">tox</span></code> - however if you are using
<code class="docutils literal notranslate"><span class="pre">tox</span></code> there are some additional configuration changes you will need to
consider, which are described below.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">after_test</span></code> runs once your tests have completed, and so is where the
wheels should be built. Assuming your project uses the recommended tools
(specifically, <code class="docutils literal notranslate"><span class="pre">setuptools</span></code>) then the <code class="docutils literal notranslate"><span class="pre">setup.py</span> <span class="pre">bdist_wheel</span></code> command
will build your wheels.</p>
<p>Note that wheels will only be built if your tests succeed. If you expect your
tests to fail on Windows, you can skip them as described above.</p>
</section>
<section id="support-script">
<h3>Support script<a class="headerlink" href="#support-script" title="Link to this heading">¶</a></h3>
<p>The <code class="file docutils literal notranslate"><span class="pre">appveyor.yml</span></code> file relies on a single support script, which sets up
the environment to use the SDK compiler for 64-bit builds on Python 3.3 and
3.4.  For projects which do not need a compiler, or which don’t support 3.3 or
3.4 on 64-bit Windows, only the <code class="file docutils literal notranslate"><span class="pre">appveyor.yml</span></code> file is needed.</p>
<p><a class="reference external" href="https://raw.githubusercontent.com/pypa/python-packaging-user-guide/master/source/guides/appveyor-sample/build.cmd">build.cmd</a>
is a Windows batch script that runs a single command in an environment with the
appropriate compiler for the selected Python version. All you need to do is to
set the single environment variable <code class="docutils literal notranslate"><span class="pre">DISTUTILS_USE_SDK</span></code> to a value of <code class="docutils literal notranslate"><span class="pre">1</span></code>
and the script does the rest. It sets up the SDK needed for 64-bit builds of
Python 3.3 or 3.4, so don’t set the environment variable for any other builds.</p>
<p>You can simply download the batch file and include it in your project unchanged.</p>
</section>
<section id="access-to-the-built-wheels">
<h3>Access to the built wheels<a class="headerlink" href="#access-to-the-built-wheels" title="Link to this heading">¶</a></h3>
<p>When your build completes, the built wheels will be available from the Appveyor
control panel for your project. They can be found by going to the build status
page for each build in turn. At the top of the build output there is a series
of links, one of which is “Artifacts”. That page will include a list of links
to the wheels for that Python version / architecture. You can download those
wheels and upload them to PyPI as part of your release process.</p>
</section>
</section>
<section id="additional-notes">
<h2>Additional notes<a class="headerlink" href="#additional-notes" title="Link to this heading">¶</a></h2>
<section id="testing-with-tox">
<h3>Testing with tox<a class="headerlink" href="#testing-with-tox" title="Link to this heading">¶</a></h3>
<p>Many projects use the <a class="reference external" href="https://tox.wiki/en/latest/index.html" title="(in Project name not set v4.44)"><span class="xref std std-doc">Tox</span></a> tool to run their tests. It ensures that tests
are run in an isolated environment using the exact files that will be distributed
by the project.</p>
<p>In order to use <code class="docutils literal notranslate"><span class="pre">tox</span></code> on Appveyor there are a couple of additional considerations
(in actual fact, these issues are not specific to Appveyor, and may well affect
other CI systems).</p>
<ol class="arabic">
<li><p>By default, <code class="docutils literal notranslate"><span class="pre">tox</span></code> only passes a chosen subset of environment variables to the
test processes. Because <code class="docutils literal notranslate"><span class="pre">distutils</span></code> uses environment variables to control the
compiler, this “test isolation” feature will cause the tests to use the wrong
compiler by default.</p>
<p>To force <code class="docutils literal notranslate"><span class="pre">tox</span></code> to pass the necessary environment variables to the subprocess,
you need to set the <code class="docutils literal notranslate"><span class="pre">tox</span></code> configuration option <code class="docutils literal notranslate"><span class="pre">passenv</span></code> to list the additional
environment variables to be passed to the subprocess. For the SDK compilers, you
need</p>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DISTUTILS_USE_SDK</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MSSdk</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INCLUDE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIB</span></code></p></li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">passenv</span></code> option can be set in your <code class="file docutils literal notranslate"><span class="pre">tox.ini</span></code>, or if you prefer
to avoid adding Windows-specific settings to your general project files, it
can be set by setting the <code class="docutils literal notranslate"><span class="pre">TOX_TESTENV_PASSENV</span></code> environment variable. The
supplied <code class="file docutils literal notranslate"><span class="pre">build.cmd</span></code> script does this by default whenever
<code class="docutils literal notranslate"><span class="pre">DISTUTILS_USE_SDK</span></code> is set.</p>
</div></blockquote>
</li>
<li><p>When used interactively, <code class="docutils literal notranslate"><span class="pre">tox</span></code> allows you to run your tests against multiple
environments (often, this means multiple Python versions). This feature is not as
useful in a CI environment like Travis or Appveyor, where all tests are run in
isolated environments for each configuration. As a result, projects often supply
an argument <code class="docutils literal notranslate"><span class="pre">-e</span> <span class="pre">ENVNAME</span></code> to <code class="docutils literal notranslate"><span class="pre">tox</span></code> to specify which environment to use (there
are default environments for most versions of Python).</p>
<blockquote>
<div><p>However, this does <em>not</em> work well with a Windows CI system like Appveyor, where
there are (for example) two installations of Python 3.4 (32-bit and 64-bit)
available, but only one <code class="docutils literal notranslate"><span class="pre">py34</span></code> environment in <code class="docutils literal notranslate"><span class="pre">tox</span></code>.</p>
<p>In order to run tests using <code class="docutils literal notranslate"><span class="pre">tox</span></code>, therefore, projects should probably use the
default <code class="docutils literal notranslate"><span class="pre">py</span></code> environment in <code class="docutils literal notranslate"><span class="pre">tox</span></code>, which uses the Python interpreter that
was used to run <code class="docutils literal notranslate"><span class="pre">tox</span></code>. This will ensure that when Appveyor runs the tests, they
will be run with the configured interpreter.</p>
<p>In order to support running under the <code class="docutils literal notranslate"><span class="pre">py</span></code> environment, it is possible that
projects with complex <code class="docutils literal notranslate"><span class="pre">tox</span></code> configurations might need to modify their
<code class="file docutils literal notranslate"><span class="pre">tox.ini</span></code> file. Doing so is, however, outside the scope of this
document.</p>
</div></blockquote>
</li>
</ol>
</section>
<section id="automatically-uploading-wheels">
<h3>Automatically uploading wheels<a class="headerlink" href="#automatically-uploading-wheels" title="Link to this heading">¶</a></h3>
<p>It is possible to request Appveyor to automatically upload wheels. There is a
<code class="docutils literal notranslate"><span class="pre">deployment</span></code> step available in <code class="file docutils literal notranslate"><span class="pre">appveyor.yml</span></code> that can be used to (for
example) copy the built artifacts to a FTP site, or an Amazon S3 instance.
Documentation on how to do this is included in the Appveyor guides.</p>
<p>Alternatively, it would be possible to add a <code class="docutils literal notranslate"><span class="pre">twine</span> <span class="pre">upload</span></code> step to the
build.  The supplied <code class="file docutils literal notranslate"><span class="pre">appveyor.yml</span></code> does not do this, as it is not clear
that uploading new wheels after every commit is desirable (although some
projects may wish to do this).</p>
</section>
<section id="external-dependencies">
<h3>External dependencies<a class="headerlink" href="#external-dependencies" title="Link to this heading">¶</a></h3>
<p>The supplied scripts will successfully build any distribution that does not
rely on 3rd party external libraries for the build.</p>
<p>It is possible to add steps to the <code class="file docutils literal notranslate"><span class="pre">appveyor.yml</span></code> configuration
(typically in the “install” section) to download and/or build external
libraries needed by the distribution. And if needed, it is possible to add
extra configuration for the build to supply the location of these libraries to
the compiler. However, this level of configuration is beyond the scope of this
document.</p>
</section>
<section id="support-scripts">
<h3>Support scripts<a class="headerlink" href="#support-scripts" title="Link to this heading">¶</a></h3>
<p>For reference, the SDK setup support script is listed here:</p>
<p><code class="docutils literal notranslate"><span class="pre">appveyor-sample/build.cmd</span></code></p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="p">@</span><span class="k">echo</span> off
<span class="linenos"> 2</span><span class="p">:</span><span class="c1">: To build extensions for 64 bit Python 3, we need to configure environment</span>
<span class="linenos"> 3</span><span class="p">:</span><span class="c1">: variables to use the MSVC 2010 C++ compilers from GRMSDKX_EN_DVD.iso of:</span>
<span class="linenos"> 4</span><span class="p">:</span><span class="c1">: MS Windows SDK for Windows 7 and .NET Framework 4</span>
<span class="linenos"> 5</span><span class="p">:</span><span class="c1">:</span>
<span class="linenos"> 6</span><span class="p">:</span><span class="c1">: More details at:</span>
<span class="linenos"> 7</span><span class="p">:</span><span class="c1">: https://github.com/cython/cython/wiki/CythonExtensionsOnWindows</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">IF</span> <span class="s2">&quot;</span><span class="nv">%DISTUTILS_USE_SDK%</span><span class="s2">&quot;</span><span class="o">==</span><span class="s2">&quot;1&quot;</span> <span class="p">(</span>
<span class="linenos">10</span>    <span class="k">ECHO</span> Configuring environment to build with MSVC on a 64bit architecture
<span class="linenos">11</span>    <span class="k">ECHO</span> Using Windows SDK 7.1
<span class="linenos">12</span>    <span class="s2">&quot;C:\Program Files\Microsoft SDKs\Windows\v7.1\Setup\WindowsSdkVer.exe&quot;</span> -q -version:v7.1
<span class="linenos">13</span>    <span class="k">CALL</span> <span class="s2">&quot;C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\SetEnv.cmd&quot;</span> /x64 /release
<span class="linenos">14</span>    <span class="k">SET</span> <span class="nv">MSSdk</span><span class="p">=</span>1
<span class="linenos">15</span>    <span class="c1">REM Need the following to allow tox to see the SDK compiler</span>
<span class="linenos">16</span>    <span class="k">SET</span> <span class="nv">TOX_TESTENV_PASSENV</span><span class="p">=</span>DISTUTILS_USE_SDK MSSdk INCLUDE LIB
<span class="linenos">17</span><span class="p">)</span> <span class="k">ELSE</span> <span class="p">(</span>
<span class="linenos">18</span>    <span class="k">ECHO</span> Using default MSVC build environment
<span class="linenos">19</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="k">CALL</span> <span class="nv">%*</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>

        <div class="related-pages">


        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2013–2020, PyPA
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s

            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Feb 21, 2026</div>
          </div>
          <div class="right-details">

          </div>
        </div>

      </footer>
    </div>
    <aside class="toc-drawer">


      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Supporting Windows using Appveyor</a><ul>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#setting-up">Setting up</a></li>
<li><a class="reference internal" href="#adding-appveyor-support-to-your-project">Adding Appveyor support to your project</a><ul>
<li><a class="reference internal" href="#appveyor-yml">appveyor.yml</a></li>
<li><a class="reference internal" href="#support-script">Support script</a></li>
<li><a class="reference internal" href="#access-to-the-built-wheels">Access to the built wheels</a></li>
</ul>
</li>
<li><a class="reference internal" href="#additional-notes">Additional notes</a><ul>
<li><a class="reference internal" href="#testing-with-tox">Testing with tox</a></li>
<li><a class="reference internal" href="#automatically-uploading-wheels">Automatically uploading wheels</a></li>
<li><a class="reference internal" href="#external-dependencies">External dependencies</a></li>
<li><a class="reference internal" href="#support-scripts">Support scripts</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>


    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=cb5fb026"></script>
    </body>
</html>
